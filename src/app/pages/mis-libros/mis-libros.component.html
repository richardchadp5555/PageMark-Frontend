<!-- Proyecto: PageMark -->
<!-- Archivo: mis-libros.component.html -->
<!-- Descripción: Vista con libros guardados del usuario, separados por estado -->
<!-- Autor: Richard Chadwick Plaza - 2º DAM -->

<div class="p-4">

  <!-- Título principal -->
  <h2 class="text-3xl font-bold text-center mb-6 text-brown-800">
    <mat-icon class="mr-2 text-amber-700 align-middle">library_books</mat-icon>
    Mis Libros
  </h2>

  <!-- QUIERO LEER -->
  <mat-card class="mb-6 p-4 mat-elevation-z3" style="background: linear-gradient(to right, #f4f4f4, #9e7b71)">
    <h3 class="text-xl mb-3 flex items-center gap-2">
      <mat-icon color="primary">auto_stories</mat-icon>
      Quiero leer
      <mat-chip color="primary" selected>{{ quieroLeer.length }} libro(s)</mat-chip>
    </h3>

    <div *ngIf="quieroLeer.length === 0" class="mb-4 text-gray-500 italic">No hay libros en esta lista.</div>

    <div class="grid" *ngIf="quieroLeer.length > 0">
      <div class="col-12 sm:col-6 md:col-4 lg:col-3 xl:col-2" *ngFor="let libro of quieroLeer">
        <mat-card class="p-2 h-full shadow-md hover:shadow-lg cursor-pointer transition-shadow"
                  [routerLink]="['/detalles-libro', libro.googleBookId]">
                  <img [src]="libro.imagen || 'assets/portada-no-encontrada.png'" alt="Portada"
                  class="w-full border-round mb-2"
                  style="height: 300px; object-fit: cover;" />             
          <h4 class="font-semibold">{{ libro.titulo }}</h4>
          <p class="text-sm text-muted">{{ libro.autor }}</p>
        </mat-card>
      </div>
    </div>
  </mat-card>

  <!-- LEYENDO -->
  <mat-card class="mb-6 p-4 mat-elevation-z3" style="background: linear-gradient(to right, #f4f4f4, #9e7b71)">
    <h3 class="text-xl mb-3 flex items-center gap-2">
      <mat-icon class="text-blue-600">menu_book</mat-icon>
      Leyendo
      <mat-chip color="accent" selected>{{ leyendo.length }} libro(s)</mat-chip>
    </h3>

    <div *ngIf="leyendo.length === 0" class="mb-4 text-gray-500 italic">No hay libros en esta lista.</div>

    <div class="grid" *ngIf="leyendo.length > 0">
      <div class="col-12 sm:col-6 md:col-4 lg:col-3 xl:col-2" *ngFor="let libro of leyendo">
        <mat-card class="p-2 h-full shadow-md hover:shadow-lg cursor-pointer transition-shadow"
                  [routerLink]="['/detalles-libro', libro.googleBookId]">
          <img [src]="libro.imagen || 'assets/portada-no-encontrada.png'" alt="Portada"
          class="w-full border-round mb-2"
          style="height: 300px; object-fit: cover;" />
             
          <h4 class="font-semibold">{{ libro.titulo }}</h4>
          <p class="text-sm text-muted">{{ libro.autor }}</p>
        </mat-card>
      </div>
    </div>
  </mat-card>

<!-- MENSAJE MOTIVACIONAL -->
<mat-card class="mb-6 p-6 mat-elevation-z3 text-center"
          style="background: linear-gradient(to right, #FDEBD0, #FAD7A0); border-radius: 1rem;">
  <div *ngIf="leido.length > 0">
    <h3 class="text-2xl font-bold text-brown-800 mb-2">
      🎉 ¡Felicidades, lector intrépido!
    </h3>
    <p class="text-lg text-brown-700 font-medium italic">
      {{ mensajeMotivacional }}
    </p>
  </div>
</mat-card>


  <!-- LEÍDO -->
  <mat-card class="mb-6 p-4 mat-elevation-z3" style="background: linear-gradient(to right, #f4f4f4, #9e7b71)">
    <h3 class="text-xl mb-3 flex items-center gap-2">
      <mat-icon class="text-red-600">check_box</mat-icon>
      Leído
      <mat-chip color="warn" selected>{{ leido.length }} libro(s)</mat-chip>
    </h3>

    <div *ngIf="leido.length === 0" class="mb-4 text-gray-500 italic">No hay libros en esta lista.</div>

    <div class="grid" *ngIf="leido.length > 0">
      <div class="col-12 sm:col-6 md:col-4 lg:col-3 xl:col-2" *ngFor="let libro of leido">
        <mat-card class="p-2 h-full shadow-md hover:shadow-lg cursor-pointer transition-shadow"
                  [routerLink]="['/detalles-libro', libro.googleBookId]">
          <img [src]="libro.imagen || 'assets/portada-no-encontrada.png'" alt="Portada"
          class="w-full border-round mb-2"
          style="height: 300px; object-fit: cover;" />
             
          <h4 class="font-semibold">{{ libro.titulo }}</h4>
          <p class="text-sm text-muted">{{ libro.autor }}</p>
        </mat-card>
      </div>
    </div>
  </mat-card>

</div>

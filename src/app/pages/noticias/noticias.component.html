<!-- components/noticias/noticias.component.html -->

<!-- Sección con vídeo de fondo y frase -->
<div class="video-frase-wrapper relative overflow-visible border-round shadow-2 mb-4 mx-auto">
  <video autoplay loop muted playsinline class="background-video">
    <source src="assets/libro-vela.mp4" type="video/mp4" />
  </video>


  <!-- Capa de oscurecimiento -->
  <div class="background-overlay"></div>

  <!-- Frase superpuesta -->
  <div class="content-on-video text-center p-4">
    <h2 class="text-2xl md:text-3xl font-bold text-white">
      “A veces sobrevivir es una forma de resistencia”
    </h2>
    <p class="text-white italic">— Kelsier, Brandon Sanderson</p>
  </div>
</div>

<!-- Mensajes de estado -->
<div *ngIf="isLoading" class="text-center mt-4">
  <p>Cargando noticias...</p>
</div>

<!-- Bloque introductorio -->
<div class="intro-noticias text-center my-4">
  <h2 class="text-2xl font-bold mb-2">Noticias literarias</h2>
  <p class="text-lg text-gray-700">
    Sumérgete en la actualidad del mundo de los libros: reseñas, novedades y artículos de opinión seleccionados de <strong>Book Riot</strong>, una de las comunidades literarias más activas del mundo.
  </p>
</div>


<!-- Lista de noticias -->
<div *ngIf="!isLoading && !error && noticias.length > 0" class="grid grid-nogutter mt-4">
  <div *ngFor="let noticia of noticias" class="col-12 md:col-6 lg:col-4 p-2">
    <mat-card class="card-noticia">
      <img mat-card-image *ngIf="noticia.imagen" [src]="noticia.imagen" alt="Imagen de la noticia" />
      <mat-card-header>
        <mat-card-title>{{ noticia.titulo }}</mat-card-title>
        <mat-card-subtitle>{{ noticia.fecha }}</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <p>{{ noticia.descripcion }}</p>
      </mat-card-content>
      <mat-card-actions>
        <a mat-button color="primary" [href]="noticia.url" target="_blank">Leer más</a>
      </mat-card-actions>
    </mat-card>
  </div>
</div>

<!-- No hay noticias -->
<div *ngIf="!isLoading && noticias.length === 0" class="text-center mt-4">
  <p>No hay noticias disponibles.</p>
</div>

<!-- Error al cargar -->
<div *ngIf="error" class="text-center mt-4 text-red-500">
  <p>Error al cargar las noticias. Inténtalo de nuevo más tarde.</p>
</div>
